<!DOCTYPE html><html lang="ja"><head>	<meta charset="UTF-8">	<title>Editor</title>	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>	<script src="src/ace.js"></script>	<link rel="stylesheet" href="style.css"></head><body>	<header>	<h1>Editor</h1>	<nav>		<ul>			<li class="open">7</li>			<li class="reset">9</li>		</ul>	</nav></header>	<div id="wrap">		<pre id="editor"></pre>		<iframe id="preview"></iframe>	</div><script>		$(function () {			//エディタ初期化			var editor = ace.edit("editor");			editor.setTheme("ace/theme/solarized_light");			editor.getSession().setMode("ace/mode/html");			editor.session.setUseWrapMode(true);			editor.session.setWrapLimitRange(null, null);			editor.session.setUseSoftTabs(true);			editor.session.setFoldStyle("markbegin");			editor.session.setTabSize(2);			editor.setHighlightActiveLine(false);			editor.setDisplayIndentGuides(true);			editor.setFontSize("14px");			var delayPreview;			editor.on("change", function () {				clearTimeout(delayPreview);				delayPreview = setTimeout(updatePreview, 200);			});			// ソース初期化			function loadDefault() {				$.get("source/defaultsource.html", function (data) {					editor.setValue(data);					editor.clearSelection();					editor.scrollToLine(0);				});			}			if (window.localStorage && window.localStorage["source"]) {				editor.setValue(window.localStorage["source"]);				editor.clearSelection();				editor.scrollToLine(0);			}			else {				loadDefault();			}			//ソース保存			function saveStorage() {				if (window.localStorage) {					window.localStorage["source"] = editor.getValue();				}			}			//プレビュー更新			var delaySave;			function updatePreview() {				var previewFrame = document.getElementById('preview');				var preview = previewFrame.contentDocument || previewFrame.contentWindow.document;				preview.open();				preview.write(editor.getValue());				preview.close();				if (window.localStorage) {					clearTimeout(delaySave);					delaySave = setTimeout(saveStorage, 1000); //更新から1秒後に保存				}			}			//ウィンドウリサイズ			function windowResizer() {				$('#wrap').height($(window).height() - $('#menu').outerHeight());				editor.resize(true);			}			var resizeTimer = null;			$(window).resize(function () {				if (resizeTimer) clearTimeout(resizeTimer);				resizeTimer = setTimeout(windowResizer, 200);			});			windowResizer();			//メニュー			$(".reset").click(function () {				loadDefault();			});			$(".reload").click(function () {				updatePreview();			});$(".open").click(function () {				$("#editor").toggleClass('hide');				$("#preview").toggleClass('full');			});		})	</script></body></html>